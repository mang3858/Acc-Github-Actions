name: Slack Notify

on:
  workflow_dispatch:

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send message to Slack
        env:
          HOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
        run: |
          echo "üîç Testing if HOOK_URL is loaded..."
          if [ -z "$HOOK_URL" ]; then
            echo "::error::SLACK_WEBHOOK_URL secret is missing or not accessible"
            exit 1
          fi

          curl -X POST -H 'Content-type: application/json' \
            --data '{"text":"ACC GitHub Actions Ïã§Ïäµ: Slack Ïó∞Í≤∞ ÏÑ±Í≥µ!"}' \
            "$HOOK_URL"
